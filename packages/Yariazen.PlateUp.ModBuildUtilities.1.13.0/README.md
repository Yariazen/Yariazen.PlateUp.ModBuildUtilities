# PlateUp! Mod Build Utilities

## Installation

PlateUp! Mod Build Utilities are available as a NuGet package. You can install it by adding the following line to your project file.
Ensure to replace `Version="0.0.0"` with the version you intend to use.
```xml
<ItemGroup>
    <PackageReference Include="Yariazen.PlateUp.ModBuildUtilities" Version="0.0.0" />
</ItemGroup>
```

Or it can be found directly on NuGet at [Yariazen.PlateUp.ModBuildUtilities](https://www.nuget.org/packages/Yariazen.PlateUp.ModBuildUtilities/)

## Settings
These settings are intended to be adjusted to your specific setup. The defaults are set to work with the default PlateUp! installation.

| Settings                      | Type      | Default | Description                                 |
|-------------------------------|-----------|---------|---------------------------------------------|
| EnableModDeployLocal          | Bool      | true    | Automatically deploy to your Mods directory |
| EnableGameDebugging           | Bool      | true    | Automatically attach your IDE debugger      |
| EnableAutoGameReferences      | Bool      | true    | Automatically references PlateUp! DLLs      |
| EnableAutoWorkshopReferences  | Bool      | true    | Automatically references Workshop DLLs      |
| EnableAutoLocalModsReferences | Bool      | true    | Automatically references Local DLLs         |
| EnableDocumentation           | Bool      | false   | Generate XML documentation                  |
| EnableAutoPDB                 | Bool      | false   | Generate PDB files                          |
| Blacklist                     | ItemGroup |         | List of DLLs to exclude from auto reference |
| AdditionalDLLs                | ItemGroup |         | List of DLLs to include for deployment      |

## Properties
These properties are used internally by the build utilities. They should not be adjusted unless you have a specific reason to do so.

| Properties            | Type   | Description                              |
|-----------------------|--------|------------------------------------------|
| SteamInstallDirectory | String | Location your Steam Client is installed  |
| GamePath              | String | Location PlateUp! is installed           |
| AssemblyReferencePath | String | Location PlateUp! DLLs are located       |
| WorkshopPath          | String | Location Steam Workshop mods are located |
| ModsPath              | String | Location local mods are installed        |
| BuildDir              | String | Location the IDE exports DLLs            |

## Examples

### Reference Blacklist

By default most of PlateUp! DLLs are automatically references in your project. You can blacklist specific DLLs by adding them to the Blacklist ItemGroup.
The following example also shows the current defaults for the Blacklist ItemGroup.

```xml
<ItemGroup>
    <Blacklist Include="$(AssemblyReferencePath)\System.Buffers.dll"/>
    <Blacklist Include="$(AssemblyReferencePath)\Microsoft.Extensions.Logging.Abstractions.dll"/>
    <Blacklist Include="$(AssemblyReferencePath)\Mono.Posix.dll" />
    <Blacklist Include="$(AssemblyReferencePath)\Mono.Security.dll" />
    <Blacklist Include="$(AssemblyReferencePath)\System.Memory.dll" />
    <Blacklist Include="$(AssemblyReferencePath)\System.Runtime.CompilerServices.Unsafe.dll" />
</ItemGroup>
```

### Additional DLLs

By default the only DLL that is deployed to your Mods directory is the one generated by your project. You can add additional DLLs to the deployment by adding them to the AdditionalDLLs ItemGroup.

```xml
<ItemGroup>
    <AdditionalDLLs Include="$(BuildDir)\0Harmony.dll"/>
    <AdditionalDLLs Include="$(BuildDir)\Semver.dll"/>
    <AdditionalDLLs Include="$(BuildDir)\UniverseLib.dll"/>
</ItemGroup>
```